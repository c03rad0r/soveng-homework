import { ISyncEventStore } from "applesauce-core";
import { Filter } from "nostr-tools";
import { MultiplexWebSocket } from "./types.js";
import { NegentropyStorageVector } from "./lib/negentropy.js";
export declare function buildStorageFromFilter(store: ISyncEventStore, filter: Filter): NegentropyStorageVector;
export declare function buildStorageVector(items: {
    id: string;
    created_at: number;
}[]): NegentropyStorageVector;
export declare function negentropySync(storage: NegentropyStorageVector, socket: MultiplexWebSocket & {
    next: (msg: any) => void;
}, filter: Filter, reconcile: (have: string[], need: string[]) => Promise<void>, opts?: {
    frameSizeLimit?: number;
    signal?: AbortSignal;
}): Promise<boolean>;
