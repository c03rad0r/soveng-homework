import { filter, merge, tap } from "rxjs";
/** Lists for any updates to the latest event and remits it */
export function listenLatestUpdates(eventStore) {
    return (source) => {
        let latest;
        return merge(
        // Get the latest event
        source.pipe(tap((value) => (latest = value))), 
        // listen for updates
        eventStore.updates.pipe(filter((e) => e.id === latest?.id)));
    };
}
