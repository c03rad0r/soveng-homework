import { COMMENT_KIND, getEventUID } from "../helpers/index.js";
import { isAddressableKind } from "nostr-tools/kinds";
/** Returns all NIP-22 comment replies for the event */
export function CommentsQuery(parent) {
    return (events) => {
        const filter = { kinds: [COMMENT_KIND], "#e": [parent.id] };
        if (isAddressableKind(parent.kind))
            filter["#a"] = [getEventUID(parent)];
        return events.timeline(filter);
    };
}
